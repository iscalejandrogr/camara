<!DOCTYPE HTML> 
<html>
<head>
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width;" />
<meta charset="utf-8" />
<link href="css/jquery.mobile-1.4.3.min.css" rel="stylesheet" type="text/css"/>
<link href="css/jquery.mobile.structure-1.4.3.min.css" rel="stylesheet" type="text/css"/>
<link href="css/jquery.mobile.theme-1.4.3.min.css" rel="stylesheet" type="text/css"/>
<script src="phonegap.js" type="text/javascript"></script>
<script src="js/jquery-2.1.1.js" type="text/javascript"></script>
<script src="js/jquery.mobile-1.4.3.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(function(){  
   var pictureSource;   // Origen de la imagen
    var destinationType; // Formato del valor retornado

   document.addEventListener("deviceready",function(){
  
  pictureSource=navigator.camera.PictureSourceType;
  destinationType=navigator.camera.DestinationType;
        
   var botonfoto=$("#regFoto"); 
    botonfoto.tap(function(){  
    tomarFoto();
   }
   
   },false);
});   

function tomarFoto(){
alert("Tomar Foto");
 navigator.camera.getPicture(onSuccess, onFail, { quality: 50,destinationType: destinationType.DATA_URL });
	
}
function onSuccess(imageData) {
alert("Tomar Foto3");
    var image = document.getElementById('miImagen');
    image.src = "data:image/jpeg;base64," + imageData;
}

function onFail(message) {
    alert('Ocurri√≥ un error: ' + message);
}

</script>
</head>
<body>
<div data-role="page" id="Registrar">
	<div data-role="header" data-theme="b" data-position="fixed" data-add-back-btn="true" data-rel="back">
	<h1>Obtener fotografia</h1>
	</div>
    
	<div data-role="content">
		<a href="#" data-role="button" id="regFoto">Tomar Foto</a>
		<img id="miImagen" src="" />
	</div>    
	<div data-role="footer" data-position="fixed" data-theme="b" >
	<h1>Derechos reservados</h1>
	</div>
</div>
</body>
</html>
